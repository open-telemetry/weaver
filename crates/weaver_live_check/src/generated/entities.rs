// SPDX-License-Identifier: Apache-2.0
//! Generated entity types, attribute constants, and enum types.
//!
//! DO NOT EDIT â€” this file is generated by Weaver from `model/live_check.yaml`.
//! To regenerate, run from the repository root:
//!
//! ```sh
//! weaver registry generate \
//!   --registry crates/weaver_live_check/model/ \
//!   --templates crates/weaver_live_check/templates/ \
//!   --v2 \
//!   rust \
//!   crates/weaver_live_check/src/
//! ```

#[allow(unused_imports)]
use serde::{Deserialize, Serialize};

use opentelemetry::KeyValue;

// --- service entity ---

// Attribute key constants
/// Logical name of the service.
pub const SERVICE_NAME: &str = "service.name";
/// The version string of the service component. The format is not defined by these conventions.
pub const SERVICE_VERSION: &str = "service.version";

/// A logical unit of an application or system that performs a specific function.
///
/// A service is a logical component used in a system, product or application. Examples include a microservice, a database, a Kubernetes deployment.

#[derive(Debug, Clone)]
pub struct Service {
    /// Logical name of the service.
    pub name: String,
    /// The version string of the service component. The format is not defined by these conventions.
    pub version: Option<String>,
}

impl Service {
    /// Convert this entity's attributes to OpenTelemetry resource attributes.
    #[must_use]
    pub fn to_resource_attributes(&self) -> Vec<KeyValue> {
        let mut attrs = Vec::new();
        attrs.push(KeyValue::new(SERVICE_NAME, self.name.clone()));
        if let Some(val) = &self.version {
            attrs.push(KeyValue::new(SERVICE_VERSION, val.clone()));
        }
        attrs
    }
}
